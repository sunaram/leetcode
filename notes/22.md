The time complexity is $O(\frac{4^n}{\sqrt{n}})$ and the space complexity is also $O(\frac{4^n}{\sqrt{n}})$.

The algorithm uses backtracking to build all possible valid combinations of parentheses. The complexity is determined by the number of valid combinations and the work done to generate and store each one.

---
## Time Complexity

The time complexity is **$O(n \cdot C_n)$**, where $C_n$ is the n-th Catalan Number.

1.  **Number of Solutions:** The total number of valid (well-formed) combinations of `n` pairs of parentheses is given by the **n-th Catalan Number**, $C_n$.
    $$C_n = \frac{1}{n+1}\binom{2n}{n}$$
    The Catalan numbers grow exponentially. Asymptotically, $C_n \approx \frac{4^n}{n^{3/2}\sqrt{\pi}}$.

2.  **Work per Solution:** For each of the $C_n$ valid solutions, the algorithm constructs a string of length `2n`. In the provided Python code, string concatenation (`path + "("`) creates a new string at each recursive step. Building a single string of length `2n` takes a total of $O(n^2)$ work across the recursive calls. However, a more precise analysis considers the total number of nodes in the decision tree, which is proportional to $C_n$. For each of the $C_n$ valid strings, we traverse a path of length `2n`. Therefore, the complexity is proportional to the number of solutions multiplied by the length of each solution.

This results in a time complexity of **$O(n \cdot C_n)$**. Substituting the asymptotic approximation for $C_n$, we get:
$$O\left(n \cdot \frac{4^n}{n^{3/2}\sqrt{\pi}}\right) = O\left(\frac{4^n}{n^{1/2}}\right) = O\left(\frac{4^n}{\sqrt{n}}\right)$$



---
## Space Complexity

The space complexity is also **$O(n \cdot C_n)$**, which is dominated by the storage required for the output.

1.  **Output Storage:** The primary consumer of space is the result list `res`, which stores all $C_n$ valid combinations. Each combination is a string of length `2n`. Therefore, the space required for the output is $O(n \cdot C_n)$.

2.  **Recursion Stack:** The maximum depth of the recursion call stack occurs when the path consists of `n` opening brackets followed by `n` closing brackets. The depth of the recursive calls will be `2n`. Thus, the space used by the call stack is $O(n)$.

The total space complexity is the sum of the space for the output and the recursion stack: $O(n \cdot C_n) + O(n)$. Since the term for the output storage grows much faster, it dominates the complexity.

Therefore, the overall space complexity is **$O(n \cdot C_n)$**, which simplifies to **$O(\frac{4^n}{\sqrt{n}})$**.